const crateButton = document.getElementById('crate-button');
const crateStatus = document.getElementById('crate-status');
let crateOpen = false;

crateButton.addEventListener('click', () => {
  if (crateOpen) {
    crateOpen = false;
    crateButton.textContent = 'Close Crate';
    crateStatus.textContent = 'Crate status: Closed';
  } else {
    crateOpen = true;
    crateButton.textContent = 'Open Crate';
    crateStatus.textContent = 'Crate status: Open';
  }
});

// Hypothetical cat detection API
const detectCat = () => {
  // Make a request to the cat detection API
  // If a cat is detected, return true
  // Otherwise, return false
  return Math.random() < 0.5;
}

// Check for a cat every 1000ms
setInterval(() => {
  if (detectCat()) {
    if (crateOpen) {
      crateOpen = false;
      crateButton.textContent = 'Close Crate';
      crateStatus.textContent = 'Crate status: Closed';
    }
    alert('Cat detected! Crate closed automatically.');
  }
}, 1000);

// Automatically close the crate when the page loads
if (detectCat()) {
  crateOpen = false;
  crateButton.textContent = 'Close Crate';
  crateStatus.textContent = 'Crate status: Closed';
  alert('Cat detected! Crate closed automatically.');
}
